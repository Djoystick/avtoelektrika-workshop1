#!/usr/bin/env python3
# -*- coding: utf-8 -*-

"""
üîß –ú–ê–°–¢–ï–†–°–ö–ê–Ø –ê–í–¢–û–≠–õ–ï–ö–¢–†–ò–ö–ê v3.0
–ê–≥—Ä–µ–≥–∞—Ç–æ—Ä —Ä–µ—à–µ–Ω–∏–π –ø—Ä–æ–±–ª–µ–º (–ù–ï –Ω–æ–≤–æ—Å—Ç–Ω–æ–π —Å–∞–π—Ç)
"""

import os

# –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É
MAX_NEWS_PER_SOURCE = 40
MAX_TOTAL_NEWS = 1500

# ==================================================
# –ò–°–¢–û–ß–ù–ò–ö–ò: —Ç–æ–ª—å–∫–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, —Ä–µ—à–µ–Ω–∏—è, —Ñ–æ—Ä—É–º—ã, –≤–∏–¥–µ–æ
# ==================================================

NEWS_SOURCES = [
    # DRIVE2 ‚Äì —Ä–µ–∞–ª—å–Ω—ã–π –æ–ø—ã—Ç –∏ —Ä–µ—à–µ–Ω–∏—è
    {"name": "Drive2 - –ü–æ–ª–æ–º–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è", "url": "https://www.drive2.ru/r/rss/breakdown/", "category": "üÜò –†–µ—à–µ–Ω–∏—è", "type": "forum"},
    {"name": "Drive2 - DIY –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏", "url": "https://www.drive2.ru/r/rss/diy/", "category": "üõ†Ô∏è –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏", "type": "guide"},
    {"name": "Drive2 - –≠–ª–µ–∫—Ç—Ä–∏–∫–∞", "url": "https://www.drive2.ru/r/rss/electrics/", "category": "‚ö° –≠–ª–µ–∫—Ç—Ä–∏–∫–∞", "type": "forum"},
    {"name": "Drive2 - –ü–æ–¥–≤–µ—Å–∫–∞", "url": "https://www.drive2.ru/r/rss/suspension/", "category": "üöó –ü–æ–¥–≤–µ—Å–∫–∞", "type": "guide"},

    # YouTube ‚Äì –≤–∏–¥–µ–æ—Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞
    {"name": "YouTube - –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ OBD2", "url": "https://www.youtube.com/feeds/videos.xml?search_query=–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞+–æ—à–∏–±–æ–∫+—Å–∫–∞–Ω–µ—Ä–æ–º+obd2", "category": "üíª –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞", "type": "video"},
    {"name": "YouTube - –†–µ–º–æ–Ω—Ç –¥–≤–∏–≥–∞—Ç–µ–ª—è", "url": "https://www.youtube.com/feeds/videos.xml?search_query=—Ä–µ–º–æ–Ω—Ç+–¥–≤–∏–≥–∞—Ç–µ–ª—è+—Å–≤–æ–∏–º–∏+—Ä—É–∫–∞–º–∏", "category": "üîß –î–≤–∏–≥–∞—Ç–µ–ª—å", "type": "video"},
    {"name": "YouTube - –†–µ–º–æ–Ω—Ç –ø–æ–¥–≤–µ—Å–∫–∏", "url": "https://www.youtube.com/feeds/videos.xml?search_query=—Ä–µ–º–æ–Ω—Ç+–ø–æ–¥–≤–µ—Å–∫–∏+—Å–≤–æ–∏–º–∏+—Ä—É–∫–∞–º–∏", "category": "üöó –ü–æ–¥–≤–µ—Å–∫–∞", "type": "video"},
    {"name": "YouTube - –ê–≤—Ç–æ—ç–ª–µ–∫—Ç—Ä–∏–∫–∞ —É—Ä–æ–∫–∏", "url": "https://www.youtube.com/feeds/videos.xml?search_query=—É—Ä–æ–∫–∏+–∞–≤—Ç–æ—ç–ª–µ–∫—Ç—Ä–∏–∫–∞", "category": "‚ö° –≠–ª–µ–∫—Ç—Ä–∏–∫–∞", "type": "video"},

    # –ö–∞–Ω–∞–ª—ã –º–∞—Å—Ç–µ—Ä–æ–≤
    {"name": "–ò–ª—å–¥–∞—Ä –ê–≤—Ç–æ", "url": "https://www.youtube.com/feeds/videos.xml?channel_id=UCwP0lGe7yC-v3V_q-Oq-jHw", "category": "üé¨ –ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å—ã", "type": "video"},
    {"name": "–ì–∞—Ä–∞–∂ 54", "url": "https://www.youtube.com/feeds/videos.xml?channel_id=UCb0P2k5f77n6yGzJ6r6R78A", "category": "üé¨ –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã", "type": "video"},
    {"name": "–í –≥–∞—Ä–∞–∂–µ —É –°–∞–Ω–¥—Ä–æ", "url": "https://www.youtube.com/feeds/videos.xml?channel_id=UCqJqV8e8t7wz_xK9y6Vq_5g", "category": "üîß –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞", "type": "video"},
    {"name": "–°–¢–û –ö–æ–≤—à", "url": "https://www.youtube.com/feeds/videos.xml?channel_id=UCtLqS4W0dIpxKsBSQ961YXg", "category": "üîß –î–∏–∑–µ–ª—å", "type": "video"},

    # –ë–∞–∑—ã –∑–Ω–∞–Ω–∏–π
    {"name": "–õ–∞–¥–∞.–û–Ω–ª–∞–π–Ω - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏", "url": "https://xn--80aal0a.xn--80asehdb/rss.xml", "category": "üöó Lada", "type": "guide"},
    {"name": "ABW.by - –¢–µ—Ö–æ–ø–∏—Å–∞–Ω–∏—è", "url": "https://www.abw.by/rss/all.rss", "category": "üìö –°–ø—Ä–∞–≤–∫–∞", "type": "guide"},
]

# ==================================================
# –°–õ–û–í–ê, –ü–û –ö–û–¢–û–†–´–ú –ú–´ –û–¢–ë–†–ê–°–´–í–ê–ï–ú –ù–û–í–û–°–¢–ò
# ==================================================

EXCLUDE_KEYWORDS = [
    "–ø—Ä–µ–¥—Å—Ç–∞–≤–∏–ª", "–∞–Ω–æ–Ω—Å–∏—Ä–æ–≤–∞–ª", "–≤—ã–ø—É—Å—Ç–∏—Ç", "–Ω–æ–≤–∏–Ω–∫–∞", "–∫–æ–Ω—Ü–µ–ø—Ç", "–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è",
    "–Ω–∞ —Ä—ã–Ω–æ–∫", "–ø—Ä–æ–¥–∞–∂–∏", "–ø–æ–¥–æ—Ä–æ–∂–∞–ª", "–ø–æ–¥–µ—à–µ–≤–µ–ª", "—Ü–µ–Ω–∞", "—Å—Ç–æ–∏–º–æ—Å—Ç—å",
    "–∫—Ä–µ–¥–∏—Ç", "–∏–ø–æ—Ç–µ–∫–∞", "—Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏–µ", "–ª–∏–∑–∏–Ω–≥", "—Å—Ç—Ä–∞—Ö–æ–≤–∫–∞",
    "–ø–æ–ª–∏—Ç–∏–∫–∞", "–≤—ã–±–æ—Ä—ã", "–ø–∞—Ä—Ç–∏—è", "–ø—Ä–µ–º—å–µ—Ä", "–¥–µ–ø—É—Ç–∞—Ç", "–º–∏–Ω–∏—Å—Ç—Ä", "—Å–∞–Ω–∫—Ü–∏–∏",
    "–≤–æ–π–Ω–∞", "—É–∫—Ä–∞–∏–Ω–∞", "—Å–≤–æ", "–∞—Ä–º–∏—è", "–æ–±—Å—Ç—Ä–µ–ª",
    "–ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ", "–ø–æ–µ–∑–¥–∫–∞", "—Ç—É—Ä–∏–∑–º", "–æ—Ç–ø—É—Å–∫", "–∫—É—Ä–æ—Ä—Ç", "–≤–ª–æ–≥",
    "—Å–ø–æ—Ä—Ç", "—á–µ–º–ø–∏–æ–Ω–∞—Ç", "–º–∞—Ç—á", "—Ñ—É—Ç–±–æ–ª", "—Ö–æ–∫–∫–µ–π",
    "–∫–∏–Ω–æ", "—Ñ–∏–ª—å–º", "—Å–µ—Ä–∏–∞–ª", "–∞–∫—Ç—ë—Ä", "–∞–∫—Ç—Ä–∏—Å–∞",
    "—Å—Ç–∞—Ä—Ç–∞–ø", "–∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è", "–∞–∫—Ü–∏–∏", "–±–∏—Ä–∂–∞", "–∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞",
]

# ==================================================
# –°–õ–û–í–ê, –ü–û –ö–û–¢–û–†–´–ú –ú–´ –°–ß–ò–¢–ê–ï–ú –¢–ï–ö–°–¢ –ò–ù–°–¢–†–£–ö–¶–ò–ï–ô/–†–ï–®–ï–ù–ò–ï–ú
# ==================================================

INSTRUCTION_KEYWORDS = [
    "—Ä–µ–º–æ–Ω—Ç", "–∑–∞–º–µ–Ω–∞", "—Å–Ω—è—Ç–∏–µ", "—É—Å—Ç–∞–Ω–æ–≤–∫–∞", "—Ä–∞–∑–±–æ—Ä–∫–∞", "—Å–±–æ—Ä–∫–∞",
    "—Ä–µ–≥—É–ª–∏—Ä–æ–≤–∫–∞", "–Ω–∞—Å—Ç—Ä–æ–π–∫–∞", "–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞", "–ø—Ä–æ–≤–µ—Ä–∫–∞", "–ø–æ–∏—Å–∫ –ø—Ä–∏—á–∏–Ω—ã",
    "–∫–∞–∫ –ø–æ—á–∏–Ω–∏—Ç—å", "–∫–∞–∫ —É—Å—Ç—Ä–∞–Ω–∏—Ç—å", "–∫–∞–∫ –∑–∞–º–µ–Ω–∏—Ç—å", "—Å–≤–æ–∏–º–∏ —Ä—É–∫–∞–º–∏",
    "–ø–æ—à–∞–≥–æ–≤–æ", "–ø–æ—à–∞–≥–æ–≤–∞—è", "–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è", "–≥–∞–π–¥", "manual", "tutorial",
    "—Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã", "—Ä–µ—à–∏–ª –ø—Ä–æ–±–ª–µ–º—É", "—É—Å—Ç—Ä–∞–Ω–∏–ª", "–ø–æ—á–∏–Ω–∏–ª", "–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–ª",
    "–Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç—å", "—Å–∏–º–ø—Ç–æ–º", "–ø—Ä–∏–∑–Ω–∞–∫", "–æ—à–∏–±–∫–∞", "–∫–æ–¥ –æ—à–∏–±–∫–∏",
    "–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç", "–æ—Ç–∫–∞–∑–∞–ª", "—Å–ª–æ–º–∞–ª—Å—è", "–≤—ã—Ö–æ–¥–∏—Ç –∏–∑ —Å—Ç—Ä–æ—è",
]

# ==================================================
# –ö–û–î–´ –û–®–ò–ë–û–ö OBD2 (–¢–û–ü–û–í–´–ï)
# ==================================================

ERROR_CODES = [
    'P0300', 'P0301', 'P0302', 'P0303', 'P0304', 'P0171', 'P0172',
    'P0420', 'P0430', 'P0130', 'P0135', 'P0141', 'P0100', 'P0101',
    'P0102', 'P0110', 'P0115', 'P0120', 'P0128', 'P0200', 'P0230',
    'P0400', 'P0401', 'P0440', 'P0441', 'P0500', 'P0505', 'P0700',
    'U0100', 'U0101', 'U0121', 'C0035', 'C0040', 'B0001'
]

# ==================================================
# –ö–ê–¢–ï–ì–û–†–ò–ò –ü–†–û–ë–õ–ï–ú (–î–õ–Ø –¢–ï–ì–û–í)
# ==================================================

PROBLEM_CATEGORIES = {
    "üÜò –ù–µ –∑–∞–≤–æ–¥–∏—Ç—Å—è": ["–Ω–µ –∑–∞–≤–æ–¥–∏—Ç—Å—è", "–Ω–µ –∫—Ä—É—Ç–∏—Ç", "—Å—Ç–∞—Ä—Ç–µ—Ä —â–µ–ª–∫–∞–µ—Ç", "—Å—Ç–∞—Ä—Ç–µ—Ä –º–æ–ª—á–∏—Ç"],
    "‚ö° –≠–ª–µ–∫—Ç—Ä–∏–∫–∞": ["–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä", "–∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä", "—Å—Ç–∞—Ä—Ç–µ—Ä", "–ø—Ä–µ–¥–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª—å", "—Ä–µ–ª–µ", "–ø—Ä–æ–≤–æ–¥–∫–∞"],
    "üîß –î–≤–∏–≥–∞—Ç–µ–ª—å": ["–¥–≤–∏–≥–∞—Ç–µ–ª—å", "–º–∞—Å–ª–æ", "–∫–æ–º–ø—Ä–µ—Å—Å–∏—è", "—Å–≤–µ—á", "–∫–∞—Ç—É—à–∫", "–∫–ª–∞–ø–∞–Ω", "–ø–æ—Ä—à–µ–Ω—å"],
    "üöó –ü–æ–¥–≤–µ—Å–∫–∞": ["–ø–æ–¥–≤–µ—Å–∫–∞", "—Ä—ã—á–∞–≥", "–∞–º–æ—Ä—Ç–∏–∑–∞—Ç–æ—Ä", "—Å—Ç–æ–π–∫–∞", "—Å–∞–π–ª–µ–Ω—Ç–±–ª–æ–∫", "—à–∞—Ä–æ–≤–∞—è"],
    "üíª –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞": ["—Å–∫–∞–Ω–µ—Ä", "obd", "elm327", "–æ—à–∏–±–∫–∞", "–∫–æ–¥ –æ—à–∏–±–∫–∏", "check engine"],
    "üõ¢Ô∏è –¢–æ–ø–ª–∏–≤–æ": ["—Ñ–æ—Ä—Å—É–Ω–∫", "–∏–Ω–∂–µ–∫—Ç–æ—Ä", "—Ç–Ω–≤–¥", "–Ω–∞—Å–æ—Å", "—Ä–∞–º–ø–∞", "–±–µ–Ω–∑–æ–Ω–∞—Å–æ—Å"],
    "üå°Ô∏è –û—Ö–ª–∞–∂–¥–µ–Ω–∏–µ": ["–ø–µ—Ä–µ–≥—Ä–µ–≤", "–∫–∏–ø–∏—Ç", "—Ä–∞–¥–∏–∞—Ç–æ—Ä", "–ø–µ—á–∫–∞", "—Ç–µ—Ä–º–æ—Å—Ç–∞—Ç", "–≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä"],
}

# ==================================================
# –ü–£–¢–ò
# ==================================================

PROJECT_ROOT = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
OUTPUT_FILE = os.path.join(PROJECT_ROOT, 'news.json')
