#!/usr/bin/env python3
# -*- coding: utf-8 -*-

"""
üîß –ú–ê–°–¢–ï–†–°–ö–ê–Ø –ê–í–¢–û–≠–õ–ï–ö–¢–†–ò–ö–ê v3.0
–ê–≥—Ä–µ–≥–∞—Ç–æ—Ä —Ä–µ—à–µ–Ω–∏–π –ø—Ä–æ–±–ª–µ–º (–Ω–µ –Ω–æ–≤–æ—Å—Ç–µ–π!)
"""

import os

# –ñ–ï–°–¢–ö–ò–ï –õ–ò–ú–ò–¢–´ ‚Äî –∫–∞—á–µ—Å—Ç–≤–æ –Ω–∞–¥ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º
MAX_NEWS_PER_SOURCE = 40
MAX_TOTAL_NEWS = 1500

# ==================================================
# –ò–°–¢–û–ß–ù–ò–ö–ò (–¢–æ–ª—å–∫–æ –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π + –≤–∏–¥–µ–æ)
# ==================================================

NEWS_SOURCES = [
    # === DRIVE2: –†–ï–®–ï–ù–ò–Ø –û–¢ –õ–Æ–î–ï–ô ===
    {"name": "Drive2 - –ü–æ–ª–æ–º–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è", "url": "https://www.drive2.ru/r/rss/breakdown/", "category": "üÜò –†–µ—à–µ–Ω–∏—è", "type": "forum"},
    {"name": "Drive2 - DIY –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏", "url": "https://www.drive2.ru/r/rss/diy/", "category": "üõ†Ô∏è –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏", "type": "guide"},
    {"name": "Drive2 - –≠–ª–µ–∫—Ç—Ä–∏–∫–∞ –æ–ø—ã—Ç", "url": "https://www.drive2.ru/r/rss/electrics/", "category": "‚ö° –≠–ª–µ–∫—Ç—Ä–∏–∫–∞", "type": "forum"},
    {"name": "Drive2 - –•–æ–¥–æ–≤–∞—è —Ä–µ–º–æ–Ω—Ç", "url": "https://www.drive2.ru/r/rss/suspension/", "category": "üöó –ü–æ–¥–≤–µ—Å–∫–∞", "type": "guide"},
    
    # === YOUTUBE: –í–ò–î–ï–û-–ò–ù–°–¢–†–£–ö–¶–ò–ò ===
    {"name": "YouTube - –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –æ—à–∏–±–æ–∫", "url": "https://www.youtube.com/feeds/videos.xml?search_query=–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞+–æ—à–∏–±–æ–∫+—Å–∫–∞–Ω–µ—Ä–æ–º+obd2", "category": "üíª –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞", "type": "video"},
    {"name": "YouTube - –ó–∞–º–µ–Ω–∞ –∏ —Ä–µ–º–æ–Ω—Ç", "url": "https://www.youtube.com/feeds/videos.xml?search_query=–∫–∞–∫+–∑–∞–º–µ–Ω–∏—Ç—å+–¥–≤–∏–≥–∞—Ç–µ–ª—å+—Å–≤–æ–∏–º–∏+—Ä—É–∫–∞–º–∏", "category": "üîß –†–µ–º–æ–Ω—Ç", "type": "video"},
    {"name": "YouTube - –≠–ª–µ–∫—Ç—Ä–æ—Å—Ö–µ–º—ã", "url": "https://www.youtube.com/feeds/videos.xml?search_query=—á—Ç–µ–Ω–∏–µ+—ç–ª–µ–∫—Ç—Ä–æ—Å—Ö–µ–º—ã+–∞–≤—Ç–æ–º–æ–±–∏–ª—è", "category": "‚ö° –≠–ª–µ–∫—Ç—Ä–∏–∫–∞", "type": "video"},
    
    # –ö–ê–ù–ê–õ–´ –°–ü–ï–¶–ò–ê–õ–ò–°–¢–û–í
    {"name": "–ò–ª—å–¥–∞—Ä –ê–≤—Ç–æ (–û–∂–∏–≤–ª–µ–Ω–∏–µ –º–∞—à–∏–Ω)", "url": "https://www.youtube.com/feeds/videos.xml?channel_id=UCwP0lGe7yC-v3V_q-Oq-jHw", "category": "üé¨ –ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å", "type": "video"},
    {"name": "–ì–∞—Ä–∞–∂ 54 (–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã)", "url": "https://www.youtube.com/feeds/videos.xml?channel_id=UCb0P2k5f77n6yGzJ6r6R78A", "category": "üé¨ –û–ø—ã—Ç—ã", "type": "video"},
    {"name": "–°–∞–Ω–¥—Ä–æ (–î–∏–∞–≥–Ω–æ—Å—Ç)", "url": "https://www.youtube.com/feeds/videos.xml?channel_id=UCqJqV8e8t7wz_xK9y6Vq_5g", "category": "üîß –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞", "type": "video"},
    
    # === –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –ë–ê–ó–´ ===
    {"name": "–õ–∞–¥–∞.–û–Ω–ª–∞–π–Ω (–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏)", "url": "https://xn--80aal0a.xn--80asehdb/rss.xml", "category": "üìö –°–ø—Ä–∞–≤–∫–∞", "type": "guide"},
    {"name": "ABW.by (–¢–µ—Ö–æ–ø–∏—Å–∞–Ω–∏—è)", "url": "https://www.abw.by/rss/all.rss", "category": "üìö –°–ø—Ä–∞–≤–∫–∞", "type": "guide"},
]

# ==================================================
# üö´ –ñ–ï–°–¢–ö–ò–ï –ë–ê–ù-–°–õ–û–í–ê (–ò—Å–∫–ª—é—á–∞–µ–º –Ω–æ–≤–æ—Å—Ç–∏)
# ==================================================

EXCLUDE_KEYWORDS = [
    # –ù–æ–≤–æ—Å—Ç–∏ –ø—Ä–æ –≤—ã–ø—É—Å–∫/–ø—Ä–æ–¥–∞–∂–∏
    "–ø—Ä–µ–¥—Å—Ç–∞–≤–∏–ª", "–∞–Ω–æ–Ω—Å–∏—Ä–æ–≤–∞–ª", "–≤—ã–ø—É—Å—Ç–∏—Ç", "–Ω–æ–≤–∏–Ω–∫–∞", "–∫–æ–Ω—Ü–µ–ø—Ç", "–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è",
    "–Ω–∞ —Ä—ã–Ω–æ–∫", "–ø—Ä–æ–¥–∞–∂–∏", "–ø–æ–¥–æ—Ä–æ–∂–∞–ª", "–ø–æ–¥–µ—à–µ–≤–µ–ª", "—Ü–µ–Ω–∞", "—Å—Ç–æ–∏–º–æ—Å—Ç—å",
    "–∫—Ä–µ–¥–∏—Ç", "–∏–ø–æ—Ç–µ–∫–∞", "—Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏–µ", "–ª–∏–∑–∏–Ω–≥", "—Å—Ç—Ä–∞—Ö–æ–≤–∫–∞",
    
    # –ü–æ–ª–∏—Ç–∏–∫–∞
    "–ø–æ–ª–∏—Ç–∏–∫–∞", "–≤—ã–±–æ—Ä—ã", "–ø–∞—Ä—Ç–∏—è", "–ø—Ä–µ–º—å–µ—Ä", "–¥–µ–ø—É—Ç–∞—Ç", "–º–∏–Ω–∏—Å—Ç—Ä", "—Å–∞–Ω–∫—Ü–∏–∏",
    "–≤–æ–π–Ω–∞", "—É–∫—Ä–∞–∏–Ω–∞", "—Å–≤–æ", "—Ç–µ—Ä–æ—Ä–∏–∑–º", "–∞—Ä–º–∏—è", "–æ–±—Å—Ç—Ä–µ–ª",
    
    # –†–∞–∑–≤–ª–µ—á–µ–Ω–∏–µ
    "–ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ", "–ø–æ–µ–∑–¥–∫–∞", "—Ç—É—Ä–∏–∑–º", "–æ—Ç–ø—É—Å–∫", "–∫—É—Ä–æ—Ä—Ç–Ω—ã–π", "—ç–∫—Å–∫—É—Ä—Å–∏—è",
    "–±–ª–æ–≥–µ—Ä", "–∏–Ω—Å—Ç–∞–≥—Ä–∞–º", "—Ç–∏–∫—Ç–æ–∫", "–≤–∏–¥–µ–æ–±–ª–æ–≥", "—á–µ–ª–ª–µ–Ω–¥–∂", "—Å—Ç—Ä–∏–º",
    "—Å–ø–æ—Ä—Ç", "—á–µ–º–ø–∏–æ–Ω–∞—Ç", "–º–∞—Ç—á", "—Ñ—É—Ç–±–æ–ª", "—Ö–æ–∫–∫–µ–π", "–æ–ª–∏–º–ø–∏–∞–¥–∞",
    "–∫–∏–Ω–æ", "—Ñ–∏–ª—å–º", "—Å–µ—Ä–∏–∞–ª", "–∫–∏–Ω–æ—Ñ–µ—Å—Ç–∏–≤–∞–ª—å", "–∞–∫—Ç–µ—Ä", "—Ä–µ–∂–∏—Å—Å–µ—Ä",
    
    # –ë–∏–∑–Ω–µ—Å (–Ω–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π)
    "—Å—Ç–∞—Ä—Ç–∞–ø", "–∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è", "ipo", "–∞–∫—Ü–∏–∏", "–±–∏—Ä–∂–∞", "—Ç—Ä–µ–π–¥–∏–Ω–≥", "–∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞",
    "—Ñ—Ä–∞–Ω—à–∏–∑–∞", "–±–∏–∑–Ω–µ—Å-–ø–ª–∞–Ω", "–º–∞—Ä–∫–µ—Ç–∏–Ω–≥", "—Å–µ–æ", "–ø–∏–∞—Ä", "–∫–æ–ø–∏—Ä–∞–π—Ç–∏–Ω–≥"
]

# ==================================================
# ‚úÖ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –°–õ–û–í–ê (–≠—Ç–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è, –∞ –Ω–µ –Ω–æ–≤–æ—Å—Ç—å)
# ==================================================

INSTRUCTION_KEYWORDS = [
    # –ü—Ä–æ—Ü–µ—Å—Å —Ä–µ–º–æ–Ω—Ç–∞
    "–∫–∞–∫", "—Å–ø–æ—Å–æ–±", "–º–µ—Ç–æ–¥", "—Ç–µ—Ö–Ω–∏–∫–∞", "–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è", "–≥–∞–π–¥", "tutorial",
    "–ø–æ—à–∞–≥–æ–≤–æ", "—à–∞–≥ –∑–∞ —à–∞–≥–æ–º", "—Å–≤–æ–∏–º–∏ —Ä—É–∫–∞–º–∏", "—Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ",
    "—Å–¥–µ–ª–∞–ª", "—Å–¥–µ–ª–∞–ª —Å–∞–º", "—Å–¥–µ–ª–∞–ª —Å–≤–æ–∏–º–∏", "–ø—ã—Ç–∞–ª—Å—è", "–ø–æ–ø—Ä–æ–±–æ–≤–∞–ª",
    "–æ–∫–∞–∑–∞–ª–æ—Å—å", "–ø–æ–ª—É—á–∏–ª–æ—Å—å", "—Ä–µ—à–∏–ª", "—Ä–µ—à–µ–Ω–∏–µ", "–ø–æ–º–æ–≥", "—Å—Ä–∞–±–æ—Ç–∞–ª–æ",
    "—Ä–µ–º–æ–Ω—Ç", "–∑–∞–º–µ–Ω–∞", "—Å–Ω—è—Ç–∏–µ", "—É—Å—Ç–∞–Ω–æ–≤–∫–∞", "—Ä–∞–∑–±–æ—Ä–∫–∞", "—Å–±–æ—Ä–∫–∞",
    "—á–∏—Å—Ç–∫–∞", "–ø—Ä–æ–º—ã–≤–∫–∞", "–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞", "–ø—Ä–æ–≤–µ—Ä–∫–∞", "—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ",
    
    # –û–ø–∞—Å–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏ (–ª—é–¥–∏ –∏—â—É—Ç —Ä–µ—à–µ–Ω–∏–µ)
    "—Å–ª–æ–º–∞–ª–æ—Å—å", "–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç", "–æ—Ç–∫–∞–∑–∞–ª", "–≤—ã—à–µ–ª –∏–∑ —Å—Ç—Ä–æ—è", "–∑–∞–∫–ª–∏–Ω–∏–ª–æ",
    "–≥–æ—Ä–∏—Ç –ª–∞–º–ø–∞", "–≥–æ—Ä–∏—Ç —á–µ–∫", "–Ω–µ –µ–¥–µ—Ç", "–Ω–µ –∑–∞–≤–æ–¥–∏—Ç—Å—è", "–Ω–µ –∫—Ä—É—Ç–∏—Ç"
]

# ==================================================
# üè∑Ô∏è –°–ò–°–¢–ï–ú–´ –¢–ï–ì–ò–†–û–í–ê–ù–ò–Ø (–î–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞)
# ==================================================

# –ö–æ–¥—ã –æ—à–∏–±–æ–∫ OBD2
ERROR_CODES = [
    'P0001', 'P0002', 'P0003', 'P0004', 'P0005', 'P0010', 'P0011', 'P0012',
    'P0013', 'P0014', 'P0016', 'P0017', 'P0020', 'P0030', 'P0036', 'P0037',
    'P0050', 'P0128', 'P0133', 'P0134', 'P0135', 'P0136', 'P0137', 'P0138',
    'P0139', 'P0140', 'P0141', 'P0142', 'P0143', 'P0144', 'P0145', 'P0150',
    'P0151', 'P0152', 'P0153', 'P0154', 'P0155', 'P0156', 'P0157', 'P0158',
    'P0159', 'P0160', 'P0161', 'P0162', 'P0163', 'P0164', 'P0200', 'P0201',
    'P0202', 'P0203', 'P0204', 'P0205', 'P0300', 'P0301', 'P0302', 'P0303',
    'P0304', 'P0305', 'P0400', 'P0401', 'P0402', 'P0403', 'P0404', 'P0405',
    'P0440', 'P0441', 'P0442', 'P0443', 'P0444', 'P0445', 'P0446', 'P0447',
    'P0500', 'P0501', 'P0502', 'P0503', 'P0505', 'P0506', 'P0507', 'P0510',
    'P0600', 'P0601', 'P0602', 'P0603', 'P0604', 'P0605', 'P0606', 'P0608',
    'P0700', 'P0701', 'P0702', 'P0703', 'P0704', 'P0705', 'P0706', 'P0707',
    'P0708', 'P0709', 'P0710', 'P0711', 'P0712', 'P0713', 'P0714', 'P0715',
    'P0716', 'P0717', 'P0718', 'P0719', 'P0720', 'P0721', 'P0722', 'P0723',
    'P0724', 'P0725', 'P0726', 'P0727', 'P0728', 'P0729', 'P0730', 'P0731',
    'U0001', 'U0010', 'U0020', 'U0100', 'U0101', 'U0110', 'B0001', 'C0001'
]

PROBLEM_CATEGORIES = {
    "üÜò –ù–µ –∑–∞–≤–æ–¥–∏—Ç—Å—è": ["–Ω–µ –∑–∞–≤–æ–¥–∏—Ç—Å—è", "–Ω–µ –∫—Ä—É—Ç–∏—Ç", "—â–µ–ª–∫–∞–µ—Ç", "–º–æ–ª—á–∏—Ç"],
    "‚ö° –≠–ª–µ–∫—Ç—Ä–∏–∫–∞": ["–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä", "–∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä", "—Å—Ç–∞—Ä—Ç–µ—Ä", "—Å–≤–µ—á–∞", "–ø—Ä–æ–≤–æ–¥"],
    "üîß –î–≤–∏–≥–∞—Ç–µ–ª—å": ["–¥–≤–∏–≥–∞—Ç–µ–ª—å", "–º–∞—Å–ª–æ", "–∫–æ–º–ø—Ä–µ—Å—Å–∏—è", "–∫–ª–∞–ø–∞–Ω", "–ø–æ—Ä—à–µ–Ω—å"],
    "üöó –ü–æ–¥–≤–µ—Å–∫–∞": ["—Ä—ã—á–∞–≥", "–∞–º–æ—Ä—Ç–∏–∑–∞—Ç–æ—Ä", "—Ç–æ—Ä–º–æ–∑", "–ø–æ–¥—à–∏–ø–Ω–∏–∫", "–¥–∏—Å–∫"],
    "üíª –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞": ["–æ—à–∏–±–∫–∞", "—Å–∫–∞–Ω–µ—Ä", "obd", "can", "–∫–æ–¥"],
    "üõ¢Ô∏è –¢–æ–ø–ª–∏–≤–æ": ["—Ñ–æ—Ä—Å—É–Ω–∫–∞", "–Ω–∞—Å–æ—Å", "—Ñ–∏–ª—å—Ç—Ä", "–¥–∏–∑–µ–ª—å", "–≥–∞–∑"],
    "üå°Ô∏è –û—Ö–ª–∞–∂–¥–µ–Ω–∏–µ": ["–∫–∏–ø–∏—Ç", "–ø–µ—Ä–µ–≥—Ä–µ–≤", "–ø–µ—á–∫–∞", "—Ä–∞–¥–∏–∞—Ç–æ—Ä", "–≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä"],
}

# ==================================================
# üìÅ –ü–£–¢–ò –ò –ö–û–ù–§–ò–ì
# ==================================================

PROJECT_ROOT = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
OUTPUT_FILE = os.path.join(PROJECT_ROOT, 'news.json')
