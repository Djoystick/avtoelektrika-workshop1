#!/usr/bin/env python3
# -*- coding: utf-8 -*-

"""
üîß –ú–ê–°–¢–ï–†–°–ö–ê–Ø –ê–í–¢–û–≠–õ–ï–ö–¢–†–ò–ö–ê v3.2
–¢–û–õ–¨–ö–û –ü–†–û–í–ï–†–ï–ù–ù–´–ï –†–ê–ë–û–ß–ò–ï –ò–°–¢–û–ß–ù–ò–ö–ò
"""

import os

MAX_NEWS_PER_SOURCE = 50
MAX_TOTAL_NEWS = 3000

# ==================================================
# ‚úÖ –ü–†–û–í–ï–†–ï–ù–ù–´–ï –†–ê–ë–û–ß–ò–ï –ò–°–¢–û–ß–ù–ò–ö–ò
# ==================================================

NEWS_SOURCES = [
    # ===== DRIVE2 (100% —Ä–∞–±–æ—Ç–∞–µ—Ç) =====
    {"name": "Drive2 - –ü–æ–ª–æ–º–∫–∏", "url": "https://www.drive2.ru/r/rss/breakdown/", "category": "üÜò –†–µ—à–µ–Ω–∏—è", "type": "forum"},
    {"name": "Drive2 - DIY", "url": "https://www.drive2.ru/r/rss/diy/", "category": "üõ†Ô∏è –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏", "type": "guide"},
    {"name": "Drive2 - –≠–ª–µ–∫—Ç—Ä–∏–∫–∞", "url": "https://www.drive2.ru/r/rss/electrics/", "category": "‚ö° –≠–ª–µ–∫—Ç—Ä–∏–∫–∞", "type": "forum"},
    {"name": "Drive2 - –î–≤–∏–≥–∞—Ç–µ–ª—å", "url": "https://www.drive2.ru/r/rss/engine/", "category": "üîß –î–≤–∏–≥–∞—Ç–µ–ª—å", "type": "forum"},
    {"name": "Drive2 - –ü–æ–¥–≤–µ—Å–∫–∞", "url": "https://www.drive2.ru/r/rss/suspension/", "category": "üöó –ü–æ–¥–≤–µ—Å–∫–∞", "type": "guide"},

    # ===== YOUTUBE –ö–ê–ù–ê–õ–´ (100% —Ä–∞–±–æ—Ç–∞—é—Ç) =====
    # –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∫–∞–Ω–∞–ª—ã —Å –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º –ø—Ä–æ —Ä–µ–º–æ–Ω—Ç
    {"name": "–ò–ª—å–¥–∞—Ä –ê–≤—Ç–æ", "url": "https://www.youtube.com/feeds/videos.xml?channel_id=UCwP0lGe7yC-v3V_q-Oq-jHw", "category": "üé¨ –í–∏–¥–µ–æ", "type": "video"},
    {"name": "–ì–∞—Ä–∞–∂ 54", "url": "https://www.youtube.com/feeds/videos.xml?channel_id=UCb0P2k5f77n6yGzJ6r6R78A", "category": "üé¨ –í–∏–¥–µ–æ", "type": "video"},
    {"name": "–í –≥–∞—Ä–∞–∂–µ —É –°–∞–Ω–¥—Ä–æ", "url": "https://www.youtube.com/feeds/videos.xml?channel_id=UCqJqV8e8t7wz_xK9y6Vq_5g", "category": "üé¨ –í–∏–¥–µ–æ", "type": "video"},
    {"name": "–°–¢–û –ö–æ–≤—à", "url": "https://www.youtube.com/feeds/videos.xml?channel_id=UCtLqS4W0dIpxKsBSQ961YXg", "category": "üé¨ –í–∏–¥–µ–æ", "type": "video"},
    
    # ===== YOUTUBE –ü–û–ò–°–ö (—Ä–∞–±–æ—Ç–∞–µ—Ç –ª—É—á—à–µ) =====
    {"name": "YouTube - –ù–µ –∑–∞–≤–æ–¥–∏—Ç—Å—è", "url": "https://www.youtube.com/feeds/videos.xml?search_query=–Ω–µ+–∑–∞–≤–æ–¥–∏—Ç—Å—è+–º–∞—à–∏–Ω–∞", "category": "üÜò –†–µ—à–µ–Ω–∏—è", "type": "video"},
    {"name": "YouTube - –†–µ–º–æ–Ω—Ç —ç–ª–µ–∫—Ç—Ä–∏–∫–∏", "url": "https://www.youtube.com/feeds/videos.xml?search_query=—Ä–µ–º–æ–Ω—Ç+—ç–ª–µ–∫—Ç—Ä–∏–∫–∏+–∞–≤—Ç–æ", "category": "‚ö° –≠–ª–µ–∫—Ç—Ä–∏–∫–∞", "type": "video"},
    {"name": "YouTube - –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞", "url": "https://www.youtube.com/feeds/videos.xml?search_query=–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞+–∞–≤—Ç–æ–º–æ–±–∏–ª—è", "category": "üíª –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞", "type": "video"},
    {"name": "YouTube - –ó–∞–º–µ–Ω–∞ –º–∞—Å–ª–∞", "url": "https://www.youtube.com/feeds/videos.xml?search_query=–∑–∞–º–µ–Ω–∞+–º–∞—Å–ª–∞+–¥–≤–∏–≥–∞—Ç–µ–ª—è", "category": "üîß –¢–û", "type": "video"},
    
    # ===== –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –ü–û–†–¢–ê–õ–¨–ß–ò–ö–ò (100% —Ä–∞–±–æ—á–∏–µ) =====
    {"name": "–õ–∞–¥–∞.–û–Ω–ª–∞–π–Ω", "url": "https://xn--80aal0a.xn--80asehdb/rss.xml", "category": "üöó Lada", "type": "guide"},
    {"name": "ABW.by", "url": "https://www.abw.by/rss/all.rss", "category": "üìö –°–ø—Ä–∞–≤–∫–∞", "type": "guide"},
    {"name": "–ó–∞ —Ä—É–ª–µ–º", "url": "https://www.zr.ru/rss/technika", "category": "üìö –°—Ç–∞—Ç—å–∏", "type": "guide"},
    
    # ===== HABR (100% —Ä–∞–±–æ—á–∏–π) =====
    {"name": "Habr - DIY", "url": "https://habr.com/ru/rss/hubs/diy/articles/", "category": "üíª DIY", "type": "guide"},
]

# ==================================================
# –§–ò–õ–¨–¢–†–´
# ==================================================

EXCLUDE_KEYWORDS = [
    "–ø–æ–ª–∏—Ç–∏–∫–∞", "–≤—ã–±–æ—Ä—ã", "–¥–µ–ø—É—Ç–∞—Ç", "—Å–∞–Ω–∫—Ü–∏–∏", "–≤–æ–π–Ω–∞", "—É–∫—Ä–∞–∏–Ω–∞",
    "–ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ", "–æ—Ç–ø—É—Å–∫", "—Ç—É—Ä–∏–∑–º", "—Å–ø–æ—Ä—Ç", "–∫–∏–Ω–æ", "—Ñ–∏–ª—å–º",
    "–∫—Ä–µ–¥–∏—Ç", "—Ü–µ–Ω–∞", "–ø—Ä–æ–¥–∞–∂–∏", "–Ω–æ–≤–∏–Ω–∫–∞", "–∫–æ–Ω—Ü–µ–ø—Ç",
]

INSTRUCTION_KEYWORDS = [
    "—Ä–µ–º–æ–Ω—Ç", "–∑–∞–º–µ–Ω–∞", "—Å–Ω—è—Ç–∏–µ", "—É—Å—Ç–∞–Ω–æ–≤–∫–∞", "—Ä–∞–∑–±–æ—Ä–∫–∞", "—Å–±–æ—Ä–∫–∞",
    "–∫–∞–∫", "—Å–ø–æ—Å–æ–±", "–º–µ—Ç–æ–¥", "–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è", "–≥–∞–π–¥", "tutorial",
    "–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞", "–ø—Ä–æ–≤–µ—Ä–∫–∞", "–ø–æ–∏—Å–∫ –ø—Ä–∏—á–∏–Ω—ã", "—Ä–µ—à–µ–Ω–∏–µ",
    "—Å–≤–æ–∏–º–∏ —Ä—É–∫–∞–º–∏", "—Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ", "–æ–ø—ã—Ç", "—Å–æ–≤–µ—Ç",
    "–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç", "–Ω–µ –∑–∞–≤–æ–¥–∏—Ç—Å—è", "–æ—Ç–∫–∞–∑–∞–ª", "—Å–ª–æ–º–∞–ª—Å—è",
    "—Ä–µ—à–∏–ª", "–∏—Å–ø—Ä–∞–≤–∏–ª", "–ø–æ–º–æ–≥", "—Å—Ä–∞–±–æ—Ç–∞–ª–æ",
]

ERROR_CODES = [
    'P0300', 'P0301', 'P0302', 'P0303', 'P0304', 'P0171', 'P0172',
    'P0420', 'P0430', 'P0130', 'P0135', 'P0141', 'P0100', 'P0101',
    'P0102', 'P0110', 'P0115', 'P0120', 'P0128', 'P0200', 'P0230',
    'P0400', 'P0401', 'P0440', 'P0441', 'P0500', 'P0505', 'P0700',
    'U0100', 'U0101', 'U0121', 'C0035', 'C0040', 'B0001'
]

PROBLEM_CATEGORIES = {
    "üÜò –ù–µ –∑–∞–≤–æ–¥–∏—Ç—Å—è": ["–Ω–µ –∑–∞–≤–æ–¥–∏—Ç—Å—è", "–Ω–µ –∫—Ä—É—Ç–∏—Ç", "—â–µ–ª–∫–∞–µ—Ç", "–º–æ–ª—á–∏—Ç"],
    "‚ö° –≠–ª–µ–∫—Ç—Ä–∏–∫–∞": ["–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä", "–∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä", "—Å—Ç–∞—Ä—Ç–µ—Ä", "—Å–≤–µ—á", "–ø—Ä–æ–≤–æ–¥"],
    "üîß –î–≤–∏–≥–∞—Ç–µ–ª—å": ["–¥–≤–∏–≥–∞—Ç–µ–ª—å", "–º–∞—Å–ª–æ", "–∫–ª–∞–ø–∞–Ω", "–ø–æ—Ä—à–µ–Ω—å"],
    "üöó –ü–æ–¥–≤–µ—Å–∫–∞": ["–ø–æ–¥–≤–µ—Å–∫–∞", "—Ä—ã—á–∞–≥", "–∞–º–æ—Ä—Ç–∏–∑–∞—Ç–æ—Ä", "–¥–∏—Å–∫"],
    "üíª –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞": ["—Å–∫–∞–Ω–µ—Ä", "obd", "–æ—à–∏–±–∫–∞", "–∫–æ–¥"],
}

PROJECT_ROOT = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
OUTPUT_FILE = os.path.join(PROJECT_ROOT, "news.json")
