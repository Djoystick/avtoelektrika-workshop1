#!/usr/bin/env python3
# -*- coding: utf-8 -*-

import os

# –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –ª–∏–º–∏—Ç—ã, —á—Ç–æ–±—ã –≤—ã—Ç—è–Ω—É—Ç—å –º–∞–∫—Å–∏–º—É–º –∏—Å—Ç–æ—Ä–∏–∏
MAX_NEWS_PER_SOURCE = 50 
MAX_TOTAL_NEWS = 2000

NEWS_SOURCES = [
    # ==================================================
    # üöó DRIVE2.RU ‚Äî –ì–õ–ê–í–ù–´–ô –ò–°–¢–û–ß–ù–ò–ö –ò–ù–°–¢–†–£–ö–¶–ò–ô
    # ==================================================
    # –ò–º–µ–Ω–Ω–æ –∑–¥–µ—Å—å –ª—é–¥–∏ –ø–∏—à—É—Ç "–∫–∞–∫ —è –ø–æ—á–∏–Ω–∏–ª..."
    {"name": "Drive2 - –≠–ª–µ–∫—Ç—Ä–∏–∫–∞ –∏ –≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞", "url": "https://www.drive2.ru/r/rss/electrics/", "category": "‚ö° –≠–ª–µ–∫—Ç—Ä–∏–∫–∞"},
    {"name": "Drive2 - –°–≤–æ–∏–º–∏ —Ä—É–∫–∞–º–∏ (DIY)", "url": "https://www.drive2.ru/r/rss/diy/", "category": "üîß –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏"},
    {"name": "Drive2 - –ü–æ–ª–æ–º–∫–∏ –∏ —Ä–µ–º–æ–Ω—Ç", "url": "https://www.drive2.ru/r/rss/breakdown/", "category": "üîß –†–µ–º–æ–Ω—Ç"},
    {"name": "Drive2 - –ê–≤—Ç–æ–∑–≤—É–∫", "url": "https://www.drive2.ru/r/rss/caraudio/", "category": "üîä –ê–≤—Ç–æ–∑–≤—É–∫"},
    
    # ==================================================
    # üì∫ YOUTUBE ‚Äî –í–ò–î–ï–û–£–†–û–ö–ò (RSS –∫–∞–Ω–∞–ª–æ–≤)
    # ==================================================
    # –õ—É—á—à–∏–µ –∫–∞–Ω–∞–ª—ã –ø–æ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ
    {"name": "–ò–ª—å–¥–∞—Ä –ê–≤—Ç–æ-–ø–æ–¥–±–æ—Ä (–û–∂–∏–≤–ª–µ–Ω–∏–µ)", "url": "https://www.youtube.com/feeds/videos.xml?channel_id=UCwP0lGe7yC-v3V_q-Oq-jHw", "category": "üé¨ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞"},
    {"name": "–í –≥–∞—Ä–∞–∂–µ —É –°–∞–Ω–¥—Ä–æ (–î–∏–∞–≥–Ω–æ—Å—Ç)", "url": "https://www.youtube.com/feeds/videos.xml?channel_id=UCqJqV8e8t7wz_xK9y6Vq_5g", "category": "üé¨ –í–∏–¥–µ–æ—É—Ä–æ–∫–∏"},
    {"name": "–°–¢–û –ö–æ–≤—à (–î–∏–∑–µ–ª–∏ –∏ —ç–ª–µ–∫—Ç—Ä–∏–∫–∞)", "url": "https://www.youtube.com/feeds/videos.xml?channel_id=UCtLqS4W0dIpxKsBSQ961YXg", "category": "üé¨ –î–∏–∑–µ–ª—å"},
    {"name": "–ì–∞—Ä–∞–∂ 54 (–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã)", "url": "https://www.youtube.com/feeds/videos.xml?channel_id=UCb0P2k5f77n6yGzJ6r6R78A", "category": "üé¨ –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã"},
    {"name": "–ê–≤—Ç–æ—ç–ª–µ–∫—Ç—Ä–∏–∫ –°–µ—Ä–≥–µ–π –ó–∞–π—Ü–µ–≤", "url": "https://www.youtube.com/feeds/videos.xml?channel_id=UCdI4XpX8VzJ7o1x5VqF9yVw", "category": "‚ö° –û–±—É—á–µ–Ω–∏–µ"},
    {"name": "Denis M (–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ BMW/VAG)", "url": "https://www.youtube.com/feeds/videos.xml?channel_id=UChd8yXhYQd2jssYy_a4d_yA", "category": "üé¨ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞"},
    {"name": "RedPower (–ê–≤—Ç–æ–∑–≤—É–∫/–ì–£)", "url": "https://www.youtube.com/feeds/videos.xml?channel_id=UCeE32wDGL947Yb3t_CjCq1g", "category": "üîä –ú—É–ª—å—Ç–∏–º–µ–¥–∏–∞"},

    # ==================================================
    # üì∞ –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –ü–û–†–¢–ê–õ–´ (–ü–†–û–í–ï–†–ï–ù–ù–´–ï RSS)
    # ==================================================
    {"name": "–ó–∞ —Ä—É–ª–µ–º - –¢–µ—Ö–Ω–∏–∫–∞", "url": "https://www.zr.ru/rss/technika", "category": "üìö –°—Ç–∞—Ç—å–∏"},
    {"name": "–õ–∞–¥–∞.–û–Ω–ª–∞–π–Ω (–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏)", "url": "https://xn--80aal0a.xn--80asehdb/rss.xml", "category": "üöó Lada"},
    {"name": "ABW.by - –¢–µ—Ö–Ω–∏—á–∫–∞", "url": "https://www.abw.by/rss/all.rss", "category": "üîß –†–µ–º–æ–Ω—Ç"},
    {"name": "Drom.ru - –ù–æ–≤–æ—Å—Ç–∏", "url": "https://news.drom.ru/rss", "category": "üöó –ê–≤—Ç–æ–º–∏—Ä"},
    {"name": "Kolesa.ru - –°—Ç–∞—Ç—å–∏", "url": "https://www.kolesa.ru/rss", "category": "üìö –°—Ç–∞—Ç—å–∏"},
    {"name": "Autonews.ru", "url": "https://www.autonews.ru/rss", "category": "üöó –ê–≤—Ç–æ–º–∏—Ä"},
    
    # ==================================================
    # üíª HABR (IT –í –ê–í–¢–û)
    # ==================================================
    {"name": "Habr - DIY (–°–¥–µ–ª–∞–π —Å–∞–º)", "url": "https://habr.com/ru/rss/hubs/diy/articles/", "category": "üíª –≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞"},
    {"name": "Habr - –ê–≤—Ç–æ–º–æ–±–∏–ª–∏", "url": "https://habr.com/ru/rss/hubs/auto_industry/articles/", "category": "üíª –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏"},
]

# –§–∏–ª—å—Ç—Ä—ã –æ—Å—Ç–∞–≤–ª—è–µ–º –∂–µ—Å—Ç–∫–∏–º–∏, —á—Ç–æ–±—ã –º—É—Å–æ—Ä –Ω–µ –ø–æ–ø–∞–¥–∞–ª
EXCLUDE_KEYWORDS = [
    "–ø–æ–ª–∏—Ç–∏–∫–∞", "–≤—ã–±–æ—Ä—ã", "–¥–µ–ø—É—Ç–∞—Ç", "—Å–∞–Ω–∫—Ü–∏–∏", "—É–∫—Ä–∞–∏–Ω–∞", "—Å–≤–æ", "–≤–æ–π–Ω–∞", "—Ñ—Ä–æ–Ω—Ç",
    "–∞—Ä–º–∏—è", "–æ–±—Å—Ç—Ä–µ–ª", "–∫–∏–Ω–æ", "—Å–µ—Ä–∏–∞–ª", "—Ñ—É—Ç–±–æ–ª", "—Ö–æ–∫–∫–µ–π", "—à–æ—É-–±–∏–∑–Ω–µ—Å", 
    "–∑–≤–µ–∑–¥–∞", "—Å–∫–∞–Ω–¥–∞–ª", "—É–±–∏–π—Å—Ç–≤–æ", "–∫—Ä–∏–º–∏–Ω–∞–ª", "–¥—Ç–ø", "–∞–≤–∞—Ä–∏—è —Å –∂–µ—Ä—Ç–≤–∞–º–∏",
    "–∫—É—Ä—Å –¥–æ–ª–ª–∞—Ä–∞", "—Ü–±", "—Å—Ç–∞–≤–∫–∞", "–∏–ø–æ—Ç–µ–∫–∞"
]

TECH_KEYWORDS = [
    "—Ä–µ–º–æ–Ω—Ç", "–∑–∞–º–µ–Ω–∞", "–¥–≤–∏–≥–∞—Ç–µ–ª—å", "–º–æ—Ç–æ—Ä", "–∫–æ—Ä–æ–±–∫–∞", "–∞–∫–ø–ø", "–º–∫–ø–ø", "–≤–∞—Ä–∏–∞—Ç–æ—Ä",
    "—ç–ª–µ–∫—Ç—Ä–∏–∫–∞", "–ø—Ä–æ–≤–æ–¥–∫–∞", "—Å—Ç–∞—Ä—Ç–µ—Ä", "–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä", "–∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä", "–∑–∞—Ä—è–¥–∫–∞",
    "–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞", "–æ—à–∏–±–∫–∞", "—Å–∫–∞–Ω–µ—Ä", "obd", "elm327", "—ç–±—É", "—á–∏–ø", "–ø—Ä–æ—à–∏–≤–∫–∞",
    "–ø–æ–¥–≤–µ—Å–∫–∞", "—Ç–æ—Ä–º–æ–∑–∞", "–∫–æ–ª–æ–¥–∫–∏", "–¥–∏—Å–∫–∏", "–º–∞—Å–ª–æ", "—Ñ–∏–ª—å—Ç—Ä", "–∞–Ω—Ç–∏—Ñ—Ä–∏–∑",
    "—Å–≤–µ—á–∏", "–∫–∞—Ç—É—à–∫–∞", "–¥–∞—Ç—á–∏–∫", "—Ä–µ–ª–µ", "–ø—Ä–µ–¥–æ—Ö—Ä–∞–Ω–∏—Ç–µ–ª—å", "–±–ª–æ–∫ –∫–æ–º—Ñ–æ—Ä—Ç–∞",
    "—Ñ–∞—Ä—ã", "–ª–∞–º–ø—ã", "–∫—Å–µ–Ω–æ–Ω", "led", "—Å–≤–µ—Ç", "—Ñ–æ–Ω–∞—Ä–∏", "–¥—Ö–æ", "—Ç—É–º–∞–Ω–∫–∏",
    "—Ç—é–Ω–∏–Ω–≥", "–¥–æ—Ä–∞–±–æ—Ç–∫–∞", "—Å–≤–æ–∏–º–∏ —Ä—É–∫–∞–º–∏", "–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è", "–æ—Ç—á–µ—Ç", "—Ñ–æ—Ç–æ–æ—Ç—á–µ—Ç",
    "–æ–±–∑–æ—Ä", "—Ç–µ—Å—Ç", "–æ—Ç–∑—ã–≤", "–æ–ø—ã—Ç", "—ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è", "–Ω–µ –∑–∞–≤–æ–¥–∏—Ç—Å—è", "–≥–ª–æ—Ö–Ω–µ—Ç"
]

SYMPTOMS_KEYWORDS = [
    "–Ω–µ –∑–∞–≤–æ–¥–∏—Ç—Å—è", "–ø–ª–æ—Ö–æ –∑–∞–≤–æ–¥–∏—Ç—Å—è", "–≥–ª–æ—Ö–Ω–µ—Ç", "—Ç—Ä–æ–∏—Ç", "—á–∏—Ö–∞–µ—Ç",
    "—Å—Ç—É—á–∏—Ç", "–≥—Ä–µ–º–∏—Ç", "—Å–∫—Ä–∏–ø–∏—Ç", "–≥—É–¥–∏—Ç", "–≤–æ–π", "–≤–∏–±—Ä–∞—Ü–∏—è", "—Ç—Ä—è—Å–µ—Ç",
    "–≥–æ—Ä–∏—Ç —á–µ–∫", "–æ—à–∏–±–∫–∞", "check engine", "–Ω–µ –µ–¥–µ—Ç", "—Ç—É–ø–∏—Ç",
    "–ø—Ä–æ–ø–∞–ª–∞ —Ç—è–≥–∞", "–¥–µ—Ä–≥–∞–µ—Ç—Å—è", "–ø–∏–Ω–∞–µ—Ç—Å—è", "—Ä—ã–≤–∫–∏", "–ø—Ä–æ–≤–∞–ª—ã",
    "—Ä–∞—Å—Ö–æ–¥ –º–∞—Å–ª–∞", "–∂—Ä–µ—Ç –º–∞—Å–ª–æ", "–¥—ã–º–∏—Ç", "—Ç–µ—á—å", "–∫–∞–ø–∞–µ—Ç", "—Å—ã—Ä–æ—Å—Ç—å",
    "–ø–µ—Ä–µ–≥—Ä–µ–≤", "–∫–∏–ø–∏—Ç", "—Ö–æ–ª–æ–¥–Ω–æ", "–Ω–µ –≥—Ä–µ–µ—Ç", "–ø–µ—á–∫–∞ –Ω–µ –¥—É–µ—Ç",
    "—Ä–∞–∑—Ä—è–∂–∞–µ—Ç—Å—è", "–Ω–µ—Ç –∑–∞—Ä—è–¥–∫–∏", "–Ω–µ—Ç –∏—Å–∫—Ä—ã", "–Ω–µ –∫—Ä—É—Ç–∏—Ç", "—â–µ–ª–∫–∞–µ—Ç",
    "–Ω–µ –≥–æ—Ä–∏—Ç", "–ø–æ—Ç—É—Ö–ª–∞", "–º–∏–≥–∞–µ—Ç", "–æ—Ç–∫–∞–∑–∞–ª", "—Å–ª–æ–º–∞–ª—Å—è", "–∑–∞–∫–ª–∏–Ω–∏–ª–æ"
]

PROJECT_ROOT = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
OUTPUT_FILE = os.path.join(PROJECT_ROOT, 'news.json')
